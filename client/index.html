<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Slide</title>
    <link rel="stylesheet" href="reveal-js/css/reveal.css">
		<link rel="stylesheet" href="reveal-js/css/theme/white.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="reveal-js/js/reveal.js"></script>
  </head>
  <body>

    <script src="https://www.gstatic.com/firebasejs/4.2.0/firebase.js"></script>
    <script>
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyCAndawPNofKLlN9W3EjWGYtqYnH1CneSc",
        authDomain: "movie-trailer-175012.firebaseapp.com",
        databaseURL: "https://movie-trailer-175012.firebaseio.com",
        projectId: "movie-trailer-175012",
        storageBucket: "movie-trailer-175012.appspot.com",
        messagingSenderId: "584104791052"
      };
      firebase.initializeApp(config);
      var database = firebase.database();

      $(window).on('hashchange', function() {
        console.log(window.location.hash);
        writeSlideHash(window.location.hash);
      })
      function writeSlideHash(hashData) {
        database.ref("url").set({
          hash: hashData
        });
      }
      var starCountRef = database.ref('url/hash');
        starCountRef.on('value', function(slide) {
        var slidePage = slide.val();
        window.location.hash = slidePage;
      });
    </script>

    <div class="reveal">
			<div class="slides">
				<section data-background="assets/img/1.jpg">Slide 1</section>
				<section data-background="assets/img/2.jpg">Slide 2</section>
      		<section>
      			<section data-background="assets/img/4.jpg">Vertical Slide 1</section>
      			<section data-background="assets/img/5.jpg">Vertical Slide 2</section>
      		</section>
			</div>
		</div>
		<script>
      Reveal.initialize({
        history: true		// Every slide will change the URL
      });
		</script>
  </body>
</html>
